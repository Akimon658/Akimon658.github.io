(()=>{function r(){let e=document.querySelector(".btn");var o;window.addEventListener("scroll",function(){e.style.visibility="hidden",clearTimeout(o),o=setTimeout(function(){e.style.visibility="visible"},500)}),document.getElementById("switch-theme").addEventListener("click",function(){l()});let t=document.getElementById("btn-menu");t&&t.addEventListener("click",function(){c()}),document.querySelector(".btn-scroll-top").addEventListener("click",function(){document.documentElement.scrollTop=0}),document.querySelector("span.post-comment-notloaded")&&document.querySelector("span.post-comment-notloaded").addEventListener("click",loadComment)}function m(){let e=document.body.getAttribute("data-theme");return e==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e==="dark"?"dark":"light"}function c(){let e=document.querySelector(".sidebar-mobile");e&&(e.style.display==="none"?e.setAttribute("style","display: flex;"):e.setAttribute("style","display: none;"))}function l(){let e=m(),o=document.body.getAttribute("data-theme"),t=document.body.getAttribute("data-theme-auto")==="true",n=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";if(o==="auto")document.body.setAttribute("data-theme",e==="light"?"dark":"light"),localStorage.setItem("fuji_data-theme",e==="light"?"dark":"light");else if(o==="light"){let i=n==="dark"&&t?"auto":"dark";document.body.setAttribute("data-theme",i),localStorage.setItem("fuji_data-theme",i)}else{let i=n==="light"&&t?"auto":"light";document.body.setAttribute("data-theme",i),localStorage.setItem("fuji_data-theme",i)}let d=document.querySelector(".post-comment");d&&document.querySelector("span.post-comment-notloaded").getAttribute("style")&&(d.getAttribute("data-comment")==="utterances"&&u(document.querySelector(".post-comment iframe")),d.getAttribute("data-comment")==="disqus"&&DISQUS.reset({reload:!0}))}function u(e){let o=m();e&&(o==="dark"?e.contentWindow.postMessage({type:"set-theme",theme:"photon-dark"},"https://utteranc.es"):e.contentWindow.postMessage({type:"set-theme",theme:"github-light"},"https://utteranc.es"))}function a(){let e=document.querySelector("header"),o=e.clientHeight,t=0,n=0;document.addEventListener("scroll",function(){t=window.scrollY,t>o&&t>n?e.style.visibility="hidden":e.style.visibility="visible",n=t})}document.addEventListener("DOMContentLoaded",function(){typeof mediumZoom=="function"&&mediumZoom(".img-zoomable",{margin:32,background:"#00000054",scrollOffset:128})});r();a();})();
