(()=>{function r(){document.querySelector(".btn .btn-toggle-mode").addEventListener("click",()=>{let t=l(),a=document.body.getAttribute("data-theme"),m=document.body.getAttribute("data-theme-auto")==="true",d=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";if(a==="auto")document.body.setAttribute("data-theme",t==="light"?"dark":"light"),localStorage.setItem("fuji_data-theme",t==="light"?"dark":"light");else if(a==="light"){let o=d==="dark"&&m?"auto":"dark";document.body.setAttribute("data-theme",o),localStorage.setItem("fuji_data-theme",o)}else{let o=d==="light"&&m?"auto":"light";document.body.setAttribute("data-theme",o),localStorage.setItem("fuji_data-theme",o)}let n=document.querySelector(".post-comment");n&&document.querySelector("span.post-comment-notloaded").getAttribute("style")&&(n.getAttribute("data-comment")==="utterances"&&c(document.querySelector(".post-comment iframe")),n.getAttribute("data-comment")==="disqus"&&DISQUS.reset({reload:!0}))});let e=document.getElementById("btn-menu");e&&e.addEventListener("click",()=>{let t=document.querySelector(".sidebar-mobile");t&&(t.style.display==="none"?t.setAttribute("style","display: flex;"):t.setAttribute("style","display: none;"))}),document.querySelector(".btn .btn-scroll-top").addEventListener("click",()=>{document.documentElement.scrollTop=0}),document.querySelector("span.post-comment-notloaded")&&document.querySelector("span.post-comment-notloaded").addEventListener("click",loadComment)}function l(){let e=document.body.getAttribute("data-theme");return e==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e==="dark"?"dark":"light"}function c(e){let t=l();e&&(t==="dark"?e.contentWindow.postMessage({type:"set-theme",theme:"photon-dark"},"https://utteranc.es"):e.contentWindow.postMessage({type:"set-theme",theme:"github-light"},"https://utteranc.es"))}document.addEventListener("DOMContentLoaded",()=>{typeof mediumZoom=="function"&&mediumZoom(".img-zoomable",{margin:32,background:"#00000054",scrollOffset:128})});r();})();
