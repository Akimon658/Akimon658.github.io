(()=>{var X=Object.getOwnPropertySymbols;var Le=Object.prototype.hasOwnProperty,He=Object.prototype.propertyIsEnumerable;var J=(t,d)=>{var a={};for(var m in t)Le.call(t,m)&&d.indexOf(m)<0&&(a[m]=t[m]);if(t!=null&&X)for(var m of X(t))d.indexOf(m)<0&&He.call(t,m)&&(a[m]=t[m]);return a};function ke(){let t=document.querySelector(".btn"),d;window.addEventListener("scroll",function(){t.style.visibility="hidden",clearTimeout(d),d=setTimeout(function(){t.style.visibility="visible"},500)}),document.getElementById("switch-theme").addEventListener("click",function(){Ae()});let a=document.getElementById("btn-menu");a&&a.addEventListener("click",function(){Oe()}),document.querySelector(".btn-scroll-top").addEventListener("click",function(){document.documentElement.scrollTop=0}),document.querySelector("span.post-comment-notloaded")&&document.querySelector("span.post-comment-notloaded").addEventListener("click",loadComment)}function K(){let t=document.body.getAttribute("data-theme");return t==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":t==="dark"?"dark":"light"}function Oe(){let t=document.querySelector(".sidebar-mobile");t&&(t.style.display==="none"?t.setAttribute("style","display: flex;"):t.setAttribute("style","display: none;"))}function Ae(){let t=K(),d=document.body.getAttribute("data-theme"),a=document.body.getAttribute("data-theme-auto")==="true",m=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";if(d==="auto")document.body.setAttribute("data-theme",t==="light"?"dark":"light"),localStorage.setItem("fuji_data-theme",t==="light"?"dark":"light");else if(d==="light"){let b=m==="dark"&&a?"auto":"dark";document.body.setAttribute("data-theme",b),localStorage.setItem("fuji_data-theme",b)}else{let b=m==="light"&&a?"auto":"light";document.body.setAttribute("data-theme",b),localStorage.setItem("fuji_data-theme",b)}let y=document.querySelector(".post-comment");y&&document.querySelector("span.post-comment-notloaded").getAttribute("style")&&(y.getAttribute("data-comment")==="utterances"&&Ce(document.querySelector(".post-comment iframe")),y.getAttribute("data-comment")==="disqus"&&DISQUS.reset({reload:!0}))}function Ce(t){let d=K();t&&(d==="dark"?t.contentWindow.postMessage({type:"set-theme",theme:"photon-dark"},"https://utteranc.es"):t.contentWindow.postMessage({type:"set-theme",theme:"github-light"},"https://utteranc.es"))}function Se(){let t=document.querySelector("header"),d=t.clientHeight,a=0,m=0;document.addEventListener("scroll",function(){a=window.scrollY,a>d&&a>m?t.style.visibility="hidden":t.style.visibility="visible",m=a})}var Te=Object.create,P=Object.defineProperty,xe=Object.getOwnPropertyDescriptor,je=Object.getOwnPropertyNames,qe=Object.getPrototypeOf,Ie=Object.prototype.hasOwnProperty,Me=t=>P(t,"__esModule",{value:!0}),Ne=(t,d)=>()=>(d||t((d={exports:{}}).exports,d),d.exports),Pe=(t,d,a,m)=>{if(d&&typeof d=="object"||typeof d=="function")for(let y of je(d))!Ie.call(t,y)&&(a||y!=="default")&&P(t,y,{get:()=>d[y],enumerable:!(m=xe(d,y))||m.enumerable});return t},V=(t,d)=>Pe(Me(P(t!=null?Te(qe(t)):{},"default",!d&&t&&t.__esModule?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t),Z=Ne((t,d)=>{(function(a,m){typeof t=="object"&&typeof d!="undefined"?d.exports=m():typeof define=="function"&&define.amd?define(m):(a=a||self,a.mediumZoom=m())})(t,function(){"use strict";var a=Object.assign||function(r){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&(r[g]=h[g])}return r},m=function(r){return r.tagName==="IMG"},y=function(r){return NodeList.prototype.isPrototypeOf(r)},b=function(r){return r&&r.nodeType===1},_=function(r){var c=r.currentSrc||r.src;return c.substr(-4).toLowerCase()===".svg"},B=function(r){try{return Array.isArray(r)?r.filter(m):y(r)?[].slice.call(r).filter(m):b(r)?[r].filter(m):typeof r=="string"?[].slice.call(document.querySelectorAll(r)).filter(m):[]}catch(c){throw new TypeError(`The provided selector is invalid.
Expects a CSS selector, a Node element, a NodeList or an array.
See: https://github.com/francoischalifour/medium-zoom`)}},oe=function(r){var c=document.createElement("div");return c.classList.add("medium-zoom-overlay"),c.style.background=r,c},ne=function(r){var c=r.getBoundingClientRect(),h=c.top,g=c.left,z=c.width,j=c.height,E=r.cloneNode(),q=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,I=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return E.removeAttribute("id"),E.style.position="absolute",E.style.top=h+q+"px",E.style.left=g+I+"px",E.style.width=z+"px",E.style.height=j+"px",E.style.transform="",E},H=function(r,c){var h=a({bubbles:!1,cancelable:!1,detail:void 0},c);if(typeof window.CustomEvent=="function")return new CustomEvent(r,h);var g=document.createEvent("CustomEvent");return g.initCustomEvent(r,h.bubbles,h.cancelable,h.detail),g},re=function r(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=window.Promise||function(o){function n(){}o(n,n)},z=function(o){var n=o.target;if(n===T){w();return}v.indexOf(n)!==-1&&D({target:n})},j=function(){if(!(k||!e.original)){var o=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(R-o)>u.scrollOffset&&setTimeout(w,150)}},E=function(o){var n=o.key||o.keyCode;(n==="Escape"||n==="Esc"||n===27)&&w()},q=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=o;if(o.background&&(T.style.background=o.background),o.container&&o.container instanceof Object&&(n.container=a({},u.container,o.container)),o.template){var s=b(o.template)?o.template:document.querySelector(o.template);n.template=s}return u=a({},u,n),v.forEach(function(i){i.dispatchEvent(H("medium-zoom:update",{detail:{zoom:f}}))}),f},I=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return r(a({},u,o))},W=function(){for(var o=arguments.length,n=Array(o),s=0;s<o;s++)n[s]=arguments[s];var i=n.reduce(function(l,p){return[].concat(l,B(p))},[]);return i.filter(function(l){return v.indexOf(l)===-1}).forEach(function(l){v.push(l),l.classList.add("medium-zoom-image")}),S.forEach(function(l){var p=l.type,O=l.listener,L=l.options;i.forEach(function(A){A.addEventListener(p,O,L)})}),f},ae=function(){for(var o=arguments.length,n=Array(o),s=0;s<o;s++)n[s]=arguments[s];e.zoomed&&w();var i=n.length>0?n.reduce(function(l,p){return[].concat(l,B(p))},[]):v;return i.forEach(function(l){l.classList.remove("medium-zoom-image"),l.dispatchEvent(H("medium-zoom:detach",{detail:{zoom:f}}))}),v=v.filter(function(l){return i.indexOf(l)===-1}),f},me=function(o,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return v.forEach(function(i){i.addEventListener("medium-zoom:"+o,n,s)}),S.push({type:"medium-zoom:"+o,listener:n,options:s}),f},ce=function(o,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return v.forEach(function(i){i.removeEventListener("medium-zoom:"+o,n,s)}),S=S.filter(function(i){return!(i.type==="medium-zoom:"+o&&i.listener.toString()===n.toString())}),f},Y=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=o.target,s=function(){var i={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},l=void 0,p=void 0;if(u.container)if(u.container instanceof Object)i=a({},i,u.container),l=i.width-i.left-i.right-u.margin*2,p=i.height-i.top-i.bottom-u.margin*2;else{var O=b(u.container)?u.container:document.querySelector(u.container),L=O.getBoundingClientRect(),A=L.width,M=L.height,fe=L.left,ge=L.top;i=a({},i,{width:A,height:M,left:fe,top:ge})}l=l||i.width-u.margin*2,p=p||i.height-u.margin*2;var C=e.zoomedHd||e.original,pe=_(C)?l:C.naturalWidth||l,he=_(C)?p:C.naturalHeight||p,x=C.getBoundingClientRect(),ve=x.top,ye=x.left,U=x.width,G=x.height,be=Math.min(pe,l)/U,ze=Math.min(he,p)/G,N=Math.min(be,ze),Ee=(-ye+(l-U)/2+u.margin+i.left)/N,we=(-ve+(p-G)/2+u.margin+i.top)/N,Q="scale("+N+") translate3d("+Ee+"px, "+we+"px, 0)";e.zoomed.style.transform=Q,e.zoomedHd&&(e.zoomedHd.style.transform=Q)};return new g(function(i){if(n&&v.indexOf(n)===-1){i(f);return}var l=function M(){k=!1,e.zoomed.removeEventListener("transitionend",M),e.original.dispatchEvent(H("medium-zoom:opened",{detail:{zoom:f}})),i(f)};if(e.zoomed){i(f);return}if(n)e.original=n;else if(v.length>0){var p=v;e.original=p[0]}else{i(f);return}if(e.original.dispatchEvent(H("medium-zoom:open",{detail:{zoom:f}})),R=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,k=!0,e.zoomed=ne(e.original),document.body.appendChild(T),u.template){var O=b(u.template)?u.template:document.querySelector(u.template);e.template=document.createElement("div"),e.template.appendChild(O.content.cloneNode(!0)),document.body.appendChild(e.template)}if(document.body.appendChild(e.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),e.original.classList.add("medium-zoom-image--hidden"),e.zoomed.classList.add("medium-zoom-image--opened"),e.zoomed.addEventListener("click",w),e.zoomed.addEventListener("transitionend",l),e.original.getAttribute("data-zoom-src")){e.zoomedHd=e.zoomed.cloneNode(),e.zoomedHd.removeAttribute("srcset"),e.zoomedHd.removeAttribute("sizes"),e.zoomedHd.src=e.zoomed.getAttribute("data-zoom-src"),e.zoomedHd.onerror=function(){clearInterval(L),console.warn("Unable to reach the zoom image target "+e.zoomedHd.src),e.zoomedHd=null,s()};var L=setInterval(function(){e.zoomedHd.complete&&(clearInterval(L),e.zoomedHd.classList.add("medium-zoom-image--opened"),e.zoomedHd.addEventListener("click",w),document.body.appendChild(e.zoomedHd),s())},10)}else if(e.original.hasAttribute("srcset")){e.zoomedHd=e.zoomed.cloneNode(),e.zoomedHd.removeAttribute("sizes"),e.zoomedHd.removeAttribute("loading");var A=e.zoomedHd.addEventListener("load",function(){e.zoomedHd.removeEventListener("load",A),e.zoomedHd.classList.add("medium-zoom-image--opened"),e.zoomedHd.addEventListener("click",w),document.body.appendChild(e.zoomedHd),s()})}else s()})},w=function(){return new g(function(o){if(k||!e.original){o(f);return}var n=function s(){e.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(e.zoomed),e.zoomedHd&&document.body.removeChild(e.zoomedHd),document.body.removeChild(T),e.zoomed.classList.remove("medium-zoom-image--opened"),e.template&&document.body.removeChild(e.template),k=!1,e.zoomed.removeEventListener("transitionend",s),e.original.dispatchEvent(H("medium-zoom:closed",{detail:{zoom:f}})),e.original=null,e.zoomed=null,e.zoomedHd=null,e.template=null,o(f)};k=!0,document.body.classList.remove("medium-zoom--opened"),e.zoomed.style.transform="",e.zoomedHd&&(e.zoomedHd.style.transform=""),e.template&&(e.template.style.transition="opacity 150ms",e.template.style.opacity=0),e.original.dispatchEvent(H("medium-zoom:close",{detail:{zoom:f}})),e.zoomed.addEventListener("transitionend",n)})},D=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=o.target;return e.original?w():Y({target:n})},le=function(){return u},ue=function(){return v},se=function(){return e.original},v=[],S=[],k=!1,R=0,u=h,e={original:null,zoomed:null,zoomedHd:null,template:null};Object.prototype.toString.call(c)==="[object Object]"?u=c:(c||typeof c=="string")&&W(c),u=a({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},u);var T=oe(u.background);document.addEventListener("click",z),document.addEventListener("keyup",E),document.addEventListener("scroll",j),window.addEventListener("resize",w);var f={open:Y,close:w,toggle:D,update:q,clone:I,attach:W,detach:ae,on:me,off:ce,getOptions:le,getImages:ue,getZoomedImage:se};return f};function ie(r,c){c===void 0&&(c={});var h=c.insertAt;if(!(!r||typeof document=="undefined")){var g=document.head||document.getElementsByTagName("head")[0],z=document.createElement("style");z.type="text/css",h==="top"&&g.firstChild?g.insertBefore(z,g.firstChild):g.appendChild(z),z.styleSheet?z.styleSheet.cssText=r:z.appendChild(document.createTextNode(r))}}var de=".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}";return ie(de),re})}),_e=V(Z()),Be=V(Z()),F=Be,{default:We}=F,Ye=J(F,["default"]),ee,te,$=(te=(ee=_e.default)!=null?ee:We)!=null?te:Ye;document.addEventListener("DOMContentLoaded",function(){typeof $=="function"&&$(".img-zoomable",{margin:32,background:"#00000054",scrollOffset:128})});ke();Se();})();
