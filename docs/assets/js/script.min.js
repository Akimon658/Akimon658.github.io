(()=>{function ye(){let o=document.querySelector(".btn"),d;window.addEventListener("scroll",()=>{o.style.visibility="hidden",clearTimeout(d),d=setTimeout(()=>{o.style.visibility="visible"},500)}),document.getElementById("switch-theme").addEventListener("click",()=>{ze()});let a=document.getElementById("btn-menu");a&&a.addEventListener("click",()=>{be()}),document.querySelector(".btn-scroll-top").addEventListener("click",()=>{document.documentElement.scrollTop=0}),document.querySelector("span.post-comment-notloaded")&&document.querySelector("span.post-comment-notloaded").addEventListener("click",loadComment)}function Q(){let o=document.body.getAttribute("data-theme");return o==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":o==="dark"?"dark":"light"}function be(){let o=document.querySelector(".sidebar-mobile");o&&(o.style.display==="none"?o.setAttribute("style","display: flex;"):o.setAttribute("style","display: none;"))}function ze(){let o=Q(),d=document.body.getAttribute("data-theme"),a=document.body.getAttribute("data-theme-auto")==="true",f=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";if(d==="auto")document.body.setAttribute("data-theme",o==="light"?"dark":"light"),localStorage.setItem("fuji_data-theme",o==="light"?"dark":"light");else{let b;d==="light"?b=f==="dark"&&a?"auto":"dark":b=f==="light"&&a?"auto":"light",document.body.setAttribute("data-theme",b),document.documentElement.style.colorScheme=b,localStorage.setItem("fuji_data-theme",b)}let h=document.querySelector(".post-comment");h&&document.querySelector("span.post-comment-notloaded").getAttribute("style")&&(h.getAttribute("data-comment")==="utterances"&&Ee(document.querySelector(".post-comment iframe")),h.getAttribute("data-comment")==="disqus"&&DISQUS.reset({reload:!0}))}function Ee(o){let d=Q();o&&(d==="dark"?o.contentWindow.postMessage({type:"set-theme",theme:"photon-dark"},"https://utteranc.es"):o.contentWindow.postMessage({type:"set-theme",theme:"github-light"},"https://utteranc.es"))}function we(){let o=document.querySelector("header"),d=window.getComputedStyle(o),a=0,f=0;document.addEventListener("scroll",()=>{a=window.scrollY;let h=a-f,b=parseFloat(d.top),T=parseFloat(d.height),O=b-h;h<0?O=Math.min(O,0):O=Math.max(O,0-T),o.style.top=`${O}px`,f=a})}var Le=Object.create,X=Object.defineProperty,Oe=Object.getOwnPropertyDescriptor,ke=Object.getOwnPropertyNames,He=Object.getPrototypeOf,Ce=Object.prototype.hasOwnProperty,Se=(o,d)=>()=>(d||o((d={exports:{}}).exports,d),d.exports),Ae=(o,d,a,f)=>{if(d&&typeof d=="object"||typeof d=="function")for(let h of ke(d))!Ce.call(o,h)&&h!==a&&X(o,h,{get:()=>d[h],enumerable:!(f=Oe(d,h))||f.enumerable});return o},$=(o,d,a)=>(a=o!=null?Le(He(o)):{},Ae(d||!o||!o.__esModule?X(a,"default",{value:o,enumerable:!0}):a,o)),J=Se((o,d)=>{(function(a,f){typeof o=="object"&&typeof d<"u"?d.exports=f():typeof define=="function"&&define.amd?define(f):(a=a||self,a.mediumZoom=f())})(o,function(){"use strict";var a=Object.assign||function(r){for(var c=1;c<arguments.length;c++){var v=arguments[c];for(var p in v)Object.prototype.hasOwnProperty.call(v,p)&&(r[p]=v[p])}return r},f=function(r){return r.tagName==="IMG"},h=function(r){return NodeList.prototype.isPrototypeOf(r)},b=function(r){return r&&r.nodeType===1},T=function(r){var c=r.currentSrc||r.src;return c.substr(-4).toLowerCase()===".svg"},O=function(r){try{return Array.isArray(r)?r.filter(f):h(r)?[].slice.call(r).filter(f):b(r)?[r].filter(f):typeof r=="string"?[].slice.call(document.querySelectorAll(r)).filter(f):[]}catch{throw new TypeError(`The provided selector is invalid.
Expects a CSS selector, a Node element, a NodeList or an array.
See: https://github.com/francoischalifour/medium-zoom`)}},K=function(r){var c=document.createElement("div");return c.classList.add("medium-zoom-overlay"),c.style.background=r,c},V=function(r){var c=r.getBoundingClientRect(),v=c.top,p=c.left,z=c.width,I=c.height,E=r.cloneNode(),M=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,N=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return E.removeAttribute("id"),E.style.position="absolute",E.style.top=v+M+"px",E.style.left=p+N+"px",E.style.width=z+"px",E.style.height=I+"px",E.style.transform="",E},k=function(r,c){var v=a({bubbles:!1,cancelable:!1,detail:void 0},c);if(typeof window.CustomEvent=="function")return new CustomEvent(r,v);var p=document.createEvent("CustomEvent");return p.initCustomEvent(r,v.bubbles,v.cancelable,v.detail),p},Z=function r(c){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=window.Promise||function(t){function n(){}t(n,n)},z=function(t){var n=t.target;if(n===j){w();return}y.indexOf(n)!==-1&&D({target:n})},I=function(){if(!(H||!e.original)){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(R-t)>l.scrollOffset&&setTimeout(w,150)}},E=function(t){var n=t.key||t.keyCode;(n==="Escape"||n==="Esc"||n===27)&&w()},M=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t;if(t.background&&(j.style.background=t.background),t.container&&t.container instanceof Object&&(n.container=a({},l.container,t.container)),t.template){var u=b(t.template)?t.template:document.querySelector(t.template);n.template=u}return l=a({},l,n),y.forEach(function(i){i.dispatchEvent(k("medium-zoom:update",{detail:{zoom:s}}))}),s},N=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return r(a({},l,t))},W=function(){for(var t=arguments.length,n=Array(t),u=0;u<t;u++)n[u]=arguments[u];var i=n.reduce(function(m,g){return[].concat(m,O(g))},[]);return i.filter(function(m){return y.indexOf(m)===-1}).forEach(function(m){y.push(m),m.classList.add("medium-zoom-image")}),x.forEach(function(m){var g=m.type,C=m.listener,L=m.options;i.forEach(function(S){S.addEventListener(g,C,L)})}),s},oe=function(){for(var t=arguments.length,n=Array(t),u=0;u<t;u++)n[u]=arguments[u];e.zoomed&&w();var i=n.length>0?n.reduce(function(m,g){return[].concat(m,O(g))},[]):y;return i.forEach(function(m){m.classList.remove("medium-zoom-image"),m.dispatchEvent(k("medium-zoom:detach",{detail:{zoom:s}}))}),y=y.filter(function(m){return i.indexOf(m)===-1}),s},ne=function(t,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return y.forEach(function(i){i.addEventListener("medium-zoom:"+t,n,u)}),x.push({type:"medium-zoom:"+t,listener:n,options:u}),s},re=function(t,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return y.forEach(function(i){i.removeEventListener("medium-zoom:"+t,n,u)}),x=x.filter(function(i){return!(i.type==="medium-zoom:"+t&&i.listener.toString()===n.toString())}),s},_=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.target,u=function(){var i={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},m=void 0,g=void 0;if(l.container)if(l.container instanceof Object)i=a({},i,l.container),m=i.width-i.left-i.right-l.margin*2,g=i.height-i.top-i.bottom-l.margin*2;else{var C=b(l.container)?l.container:document.querySelector(l.container),L=C.getBoundingClientRect(),S=L.width,P=L.height,me=L.left,ce=L.top;i=a({},i,{width:S,height:P,left:me,top:ce})}m=m||i.width-l.margin*2,g=g||i.height-l.margin*2;var A=e.zoomedHd||e.original,le=T(A)?m:A.naturalWidth||m,ue=T(A)?g:A.naturalHeight||g,q=A.getBoundingClientRect(),se=q.top,fe=q.left,U=q.width,Y=q.height,pe=Math.min(le,m)/U,ge=Math.min(ue,g)/Y,B=Math.min(pe,ge),he=(-fe+(m-U)/2+l.margin+i.left)/B,ve=(-se+(g-Y)/2+l.margin+i.top)/B,F="scale("+B+") translate3d("+he+"px, "+ve+"px, 0)";e.zoomed.style.transform=F,e.zoomedHd&&(e.zoomedHd.style.transform=F)};return new p(function(i){if(n&&y.indexOf(n)===-1){i(s);return}var m=function P(){H=!1,e.zoomed.removeEventListener("transitionend",P),e.original.dispatchEvent(k("medium-zoom:opened",{detail:{zoom:s}})),i(s)};if(e.zoomed){i(s);return}if(n)e.original=n;else if(y.length>0){var g=y;e.original=g[0]}else{i(s);return}if(e.original.dispatchEvent(k("medium-zoom:open",{detail:{zoom:s}})),R=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,H=!0,e.zoomed=V(e.original),document.body.appendChild(j),l.template){var C=b(l.template)?l.template:document.querySelector(l.template);e.template=document.createElement("div"),e.template.appendChild(C.content.cloneNode(!0)),document.body.appendChild(e.template)}if(document.body.appendChild(e.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),e.original.classList.add("medium-zoom-image--hidden"),e.zoomed.classList.add("medium-zoom-image--opened"),e.zoomed.addEventListener("click",w),e.zoomed.addEventListener("transitionend",m),e.original.getAttribute("data-zoom-src")){e.zoomedHd=e.zoomed.cloneNode(),e.zoomedHd.removeAttribute("srcset"),e.zoomedHd.removeAttribute("sizes"),e.zoomedHd.src=e.zoomed.getAttribute("data-zoom-src"),e.zoomedHd.onerror=function(){clearInterval(L),console.warn("Unable to reach the zoom image target "+e.zoomedHd.src),e.zoomedHd=null,u()};var L=setInterval(function(){e.zoomedHd.complete&&(clearInterval(L),e.zoomedHd.classList.add("medium-zoom-image--opened"),e.zoomedHd.addEventListener("click",w),document.body.appendChild(e.zoomedHd),u())},10)}else if(e.original.hasAttribute("srcset")){e.zoomedHd=e.zoomed.cloneNode(),e.zoomedHd.removeAttribute("sizes"),e.zoomedHd.removeAttribute("loading");var S=e.zoomedHd.addEventListener("load",function(){e.zoomedHd.removeEventListener("load",S),e.zoomedHd.classList.add("medium-zoom-image--opened"),e.zoomedHd.addEventListener("click",w),document.body.appendChild(e.zoomedHd),u()})}else u()})},w=function(){return new p(function(t){if(H||!e.original){t(s);return}var n=function u(){e.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(e.zoomed),e.zoomedHd&&document.body.removeChild(e.zoomedHd),document.body.removeChild(j),e.zoomed.classList.remove("medium-zoom-image--opened"),e.template&&document.body.removeChild(e.template),H=!1,e.zoomed.removeEventListener("transitionend",u),e.original.dispatchEvent(k("medium-zoom:closed",{detail:{zoom:s}})),e.original=null,e.zoomed=null,e.zoomedHd=null,e.template=null,t(s)};H=!0,document.body.classList.remove("medium-zoom--opened"),e.zoomed.style.transform="",e.zoomedHd&&(e.zoomedHd.style.transform=""),e.template&&(e.template.style.transition="opacity 150ms",e.template.style.opacity=0),e.original.dispatchEvent(k("medium-zoom:close",{detail:{zoom:s}})),e.zoomed.addEventListener("transitionend",n)})},D=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.target;return e.original?w():_({target:n})},ie=function(){return l},de=function(){return y},ae=function(){return e.original},y=[],x=[],H=!1,R=0,l=v,e={original:null,zoomed:null,zoomedHd:null,template:null};Object.prototype.toString.call(c)==="[object Object]"?l=c:(c||typeof c=="string")&&W(c),l=a({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},l);var j=K(l.background);document.addEventListener("click",z),document.addEventListener("keyup",E),document.addEventListener("scroll",I),window.addEventListener("resize",w);var s={open:_,close:w,toggle:D,update:M,clone:N,attach:W,detach:oe,on:ne,off:re,getOptions:ie,getImages:de,getZoomedImage:ae};return s};function ee(r,c){c===void 0&&(c={});var v=c.insertAt;if(!(!r||typeof document>"u")){var p=document.head||document.getElementsByTagName("head")[0],z=document.createElement("style");z.type="text/css",v==="top"&&p.firstChild?p.insertBefore(z,p.firstChild):p.appendChild(z),z.styleSheet?z.styleSheet.cssText=r:z.appendChild(document.createTextNode(r))}}var te=".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}";return ee(te),Z})}),Te=$(J()),xe=$(J()),{default:je,...qe}=xe,G=Te.default??je??qe;function Ie(){document.addEventListener("DOMContentLoaded",()=>{typeof G=="function"&&G(".img-zoomable",{margin:32,background:"#00000054",scrollOffset:128})})}ye();we();Ie();})();
