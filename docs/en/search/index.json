[{"content":"The answer window.disqus_config = function() { this.language = \u0026#39;{{ .Lang }}\u0026#39;; } Why use window.disqus_config? According to the Disqus' help page, we can override the language by adding this.\nvar disqus_config = function () { this.language = \u0026#34;ja\u0026#34;; }; So basically the following JavaScript works.\nvar disqus_config = function () { this.language = \u0026#39;{{ .Lang }}\u0026#39;; }; However, the variable disqus_config doesn\u0026rsquo;t work with --minify option because Hugo changes the name.\nTo solve it, you can use a window object instead.\nvar disqus_config = function () { window.disqus_config = \u0026#39;{{ .Lang }}\u0026#39;; }; Reference:\nGlobal object - MDN Web Docs Glossary: Definitions of Web-related terms | MDN developer.mozilla.org A global object is an object that always exists in the global scope.   By the way\u0026hellip; Hugo has a Disqus template, and it was using var disqus_config so I sent a pull request. I was happy because it\u0026rsquo;s my first contribution to OSS.\nChange `disqus_config` to `window.disqus_config` by Akimon658 · Pull Request #9550 · gohugoio/hugo github.com The variable disqus_config doesn\u0026#39;t work if we use hugo --minify because Hugo changes the name. We can use window.disqus_config instead, and it won\u0026#39;t be renamed. Reference: https://developer.mozilla...   ","date":"2022-01-26","permalink":"https://akimon658.github.io/en/p/2022/disqus-multi-lang/","tags":["Hugo"],"title":"Use Disqus on multilingual Hugo site"},{"content":"I\u0026rsquo;m running this blog with Hugo. I love it because it\u0026rsquo;s super fast and functional, but I had a problem.\nIssue example This is [test](https://example.com), just a [sample](https://sample.test) This would output\u0026hellip;\nlike this. It rendered unnecessary space before comma or period.\nCause It was because layouts/_default/_markup/render-link.html ended with a newline.\nWhat is lender-link.html It is used with Render Hooks, which overrides default HTML rendering. For example, we can add target=\u0026quot;_blank\u0026quot; to external links by using lender-link.html. However, goldmark adds whitespace if the template ends with a newline.\nrender-link.html of Fuji, the theme I\u0026rsquo;m using as a base of this blog, ends with no newlines. However, I added a newline to the template by myself when I customize it. Some editor adds a newline of the end automatically, so please be careful\u0026hellip;\n","date":"2022-01-25","permalink":"https://akimon658.github.io/en/p/2022/hugo-whitespace/","tags":["Hugo"],"title":"Hugo adds unnecessary whitespace after a link"},{"content":"How do you usually do when you need to authorize using the browser in WSL? Copy the token? Or use WSLg? These ways are not wrong, but it will be better to use the host\u0026rsquo;s browser.\nHere is how to set it:\nsudo update-alternatives --install /usr/bin/x-www-browser x-www-browser path/to/browser priority Example:\nsudo update-alternatives --install /usr/bin/x-www-browser x-www-browser /mnt/c/Program\\ Files/Google/Chrome/Application/chrome.exe 1 That’s all if you don\u0026rsquo;t have any browser in WSL. Even if you have installed one, I don\u0026rsquo;t think you have to think seriously about priority because you can configure default by the following command.\nsudo update-alternatives --config x-www-browser Now, you can use the browser of Windows as WSL\u0026rsquo;s default.\n","date":"2021-12-31","permalink":"https://akimon658.github.io/en/p/2021/wsl-default-browser/","tags":null,"title":"How to use the browser in Windows as WSL's default"},{"content":"When you use Gitpod, you can use gitpod/workspace-full. It is enough for development most case. However, I\u0026rsquo;d like to use a morphological analysis engine called MeCab with Golang, so I tried to use an image I\u0026rsquo;ve created in advance. However, I got stuck on permission, so I\u0026rsquo;m writing this article.\nAbout Gitpod It is a development environment that we can use on a browser. I often use it because I haven\u0026rsquo;t been able to use GitHub Codespaces yet, and I can use it for free for 100 hours a month with the benefits of GitHub Education.\nDashboard — Gitpod gitpod.io    What I wanted to do # Self-made imageFROMakimon658/go-mecab-neologd:latest# This image doesn\u0026#39;t have gopls, so I want to install itRUN go install golang.org/x/tools/gopls@latestAfter that, I want to run go get etc. as needed.\nWhy I got stuck All accesses under /go/pkg are denied, so I can\u0026rsquo;t run go get.\nCause It occurred because go install was run by root in the Dockerfile. So running sudo will solve it, but the image doesn\u0026rsquo;t have the command. By the way, it won\u0026rsquo;t occur in the official image because it sets the USER properly.\nSolution FROMakimon658/go-mecab-neologd:latestRUN go install golang.org/x/tools/gopls@latest \u0026amp;\u0026amp; \\  chmod 777 -R / gochmod 777 is a command that allows all users to read, write, and execute to the specified location, and -R is an option that applies it to the contents of the target directory as well. Set this where you need it. It may not need to set 777 permission, but it was troublesome to think.\nAfterword I understood the cause immediately, but I didn\u0026rsquo;t know the mechanism about Linux permissions at all, so it took about an hour to reach the solution.\n","date":"2021-12-20","permalink":"https://akimon658.github.io/en/p/2021/gitpod-permission/","tags":null,"title":"Permission denied when using Gitpod with self-made Dockerfile"},{"content":"PowerShell displays the current full path by default. It\u0026rsquo;s long, so I\u0026rsquo;d like to replace it with ~ like Bash.\nPrepare a profile You can customize your PowerShell with $profile. It doesn\u0026rsquo;t exist by default, so you need to run touch $profile.\nCustomize To customize the prompt, use function prompt. Here is a built-in one.\nfunction prompt { $(if (Test-Path variable:/PSDebugContext) { \u0026#39;[DBG]: \u0026#39; } else { \u0026#39;\u0026#39; }) + \u0026#39;PS \u0026#39; + $(Get-Location) + $(if ($NestedPromptLevel -ge 1) { \u0026#39;\u0026gt;\u0026gt;\u0026#39; }) + \u0026#39;\u0026gt; \u0026#39; } Source:\nabout Prompts - PowerShell docs.microsoft.com Describes the `Prompt` function and demonstrates how to create a custom `Prompt` function.   It seems using $(Get-Location) to get the current path, but we can\u0026rsquo;t use it as a string (even if we use $pwd). So let\u0026rsquo;s use Convert-Path instead.\nfunction prompt { $currentDir = (Convert-Path .) $(if (Test-Path variable:/PSDebugContext) { \u0026#39;[DBG]: \u0026#39; } else { \u0026#39;\u0026#39; }) + \u0026#39;PS \u0026#39; + $currentDir + $(if ($NestedPromptLevel -ge 1) { \u0026#39;\u0026gt;\u0026gt;\u0026#39; }) + \u0026#39;\u0026gt; \u0026#39; } Now we can use $currentDir as a string. All that is left is checking if it includes $home and replacing it.\nfunction prompt { $currentDir = (Convert-Path .) if ($currentDir.Contains($HOME)) { $currentDir = $currentDir.Replace($HOME, \u0026#34;~\u0026#34;) } $(if (Test-Path variable:/PSDebugContext) { \u0026#39;[DBG]: \u0026#39; } else { \u0026#39;\u0026#39; }) + \u0026#39;PS \u0026#39; + $currentDir + $(if ($NestedPromptLevel -ge 1) { \u0026#39;\u0026gt;\u0026gt;\u0026#39; }) + \u0026#39;\u0026gt; \u0026#39; } Afterword This time we made just a little customize for PowerShell, but we can do more things with a profile. I\u0026rsquo;m happy if this article will be helpful for you.\nHere is my profile for your reference.\nGitHub - Akimon658/pwsh-profile: My PowerShell profile github.com My PowerShell profile. Contribute to Akimon658/pwsh-profile development by creating an account on GitHub.   ","date":"2021-12-13","permalink":"https://akimon658.github.io/en/p/2021/customize-powershell/","tags":null,"title":"How to replace home directory with \"~\" on PowerShell"}]